# 文件处理

## 环境：
genie
## 文件说明
config 文件夹存储参数
cmds.sh 记录主要命令
## 参数管理
参数管理使用了hydra模块，可以树状创造管理参数，在多数据集和多tokenzier的情况下可以做到清晰的参数管理。

## 实现细节

* 读取文件时用迭代器进行逐行读取，对内存占用小
* 写入时写入两种文件，默认每处理5000行进行一次写入：\
    record文件记录当前程序工作状态，比如已经写入多少条， 方便断点重续
    主文件，记录tokenzier处理后的数据条数，追加写入
* 最后将jsonl格式的主文件通过json2pt.py转化成pt文件
* record, processed, log 文件默认在src文件夹的同级目录下

## 时间：
14G的文件处理一次约10小时 \
并行处理20个14G的文件压力较小